(function(){function a(a,b,c){var d=document.createElement("a"),a=document.createTextNode(a);d.appendChild(a),d.setAttribute("href",b+"&title="+c);var e=document.getElementById("watch-headline-user-info");e==null?document.body.parentNode.insertBefore(d,document.body):e.appendChild(d)}function b(a){var b=a.split("&");for(var c=0;c<b.length;c++){var d=b[c].split("=");if(d[0]=="itag")return parseInt(d[1])}return 0}var c=document.getElementById("movie_player"),d=c.getAttribute("flashvars");d||(d=c.getElementsByTagName("param")[1].value);var e=!0,f=d.split("&");for(k=0;k<=f.length-1;k++)if(f[k].split("=")[0]=="url_encoded_fmt_stream_map"){links=unescape(f[k].split("=")[1]);break}var g=links.split(",url=");for(k=0;k<=g.length-1;k++){fmt=g[k].split("|")[0],fmt.indexOf("rl=")>0?(console.log("ping",fmt),url=fmt.substring(4,fmt.indexOf("fallback_host")-1),url=unescape(unescape(url)),url[0]==":"&&(url="http"+url)):(url=fmt.substring(0,fmt.indexOf("fallback_host")-1),url=unescape(unescape(url)));var h=b(url),i=document.title.replace("#"," ").replace("@"," ").replace("*"," ").replace("|"," ").replace(":"," ");switch(h){case 37:a("[HD 1080p MP4]",url,i);break;case 22:a("[HD 720p MP4]",url,i);break;case 46:a("[HD 1080p WebM]",url,i);break;case 45:a("[HD 720p WebM]",url,i);break;case 35:a("[Medium 480p FLV]",url,i);break;case 44:a("[Medium 480p WebM]",url,i);break;case 43:a("[Medium 360p WebM]",url,i);break;case 34:a("[Medium 360p FLV]",url,i);break;case 18:a("[Low 270p MP4]",url,i);break;case 5:a("[Low 226p FLV]",url,i);break;default:a("["+h+"]",url,i)}}if(!e)return;var j=document.getElementsByTagName("embed");for(var k=0;k<j.length;k++)var l=j[k].parentNode.removeChild(j[k])})();